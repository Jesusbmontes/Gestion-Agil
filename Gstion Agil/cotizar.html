<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cotiza - Gestión Ágil</title>
    <meta name="description" content="Solicita tu cotización gratuita - Gestión Ágil">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
</head>
<body>

    <!-- Header (copiado) -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <svg class="logo-icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <title>Logo Gestión Ágil</title>
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
                <h1 class="logo-text">Gestión Ágil</h1>
            </div>
            <nav class="nav" aria-label="Principal">
                <a href="index.html">Inicio</a>
                <a href="#about">Sobre Nosotros</a>
                <a href="#servicios">Servicios</a>
                <a href="cotizar.html">Cotizador</a>
                <a href="#contacto">Contacto</a>
            </nav>
            <a href="tel:+34611342470" class="btn btn-primary header-call" aria-label="Llamar ahora">
                <svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <title>Icono teléfono</title>
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                <span>Llamar Ahora</span>
            </a>
        </div>
    </header>

    <main class="section bg-white">
        <div class="container">
            <div class="section-header">
                <h3 class="section-title">Cotiza tu seguro</h3>
                <p class="section-subtitle">Rellena el formulario y te contactaremos en menos de 24 horas.</p>
            </div>
            <div class="form-layout">
                <div class="card" style="background:transparent;padding:0">
                    <!-- Form (mismo contenido que en el modal) -->
                    <form class="quote-form" onsubmit="submitQuoteForm(event)">
                    <!-- DATOS PERSONALES -->
                    <div class="form-section">
                        <h3 class="form-section-title">Datos Personales</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nombre_page">Nombre *</label>
                                <input type="text" id="nombre_page" name="nombre" required placeholder="Tu nombre">
                            </div>
                            <div class="form-group">
                                <label for="apellidos_page">Apellidos *</label>
                                <input type="text" id="apellidos_page" name="apellidos" required placeholder="Tus apellidos">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="dni_page">DNI/NIE *</label>
                                <input type="text" id="dni_page" name="dni" required placeholder="12345678A">
                            </div>
                            <div class="form-group">
                                <label for="telefono_page">Teléfono *</label>
                                <input type="tel" id="telefono_page" name="telefono" required placeholder="+34 6XX XXX XXX">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email_page">Email *</label>
                                <input type="email" id="email_page" name="email" required placeholder="tu@email.com">
                            </div>
                            <div class="form-group">
                                <label for="fechaNacimiento_page">Fecha de Nacimiento *</label>
                                <input type="date" id="fechaNacimiento_page" name="fechaNacimiento" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="codigoPostal_page">Código Postal *</label>
                            <input type="text" id="codigoPostal_page" name="codigoPostal" required placeholder="28027">
                        </div>
                    </div>

                    <!-- TIPO DE SEGURO -->
                    <div class="form-section">
                        <h3 class="form-section-title">Tipo de Seguro</h3>
                        
                        <div class="form-group">
                            <label for="tipoSeguro_page">Selecciona el tipo de seguro *</label>
                            <select id="tipoSeguro_page" name="tipoSeguro" required onchange="updateVehicleFieldsPage()">
                                <option value="">-- Selecciona una opción --</option>
                                <option value="auto">Seguro de Auto</option>
                                <option value="moto">Seguro de Moto</option>
                                <option value="hogar">Seguro de Hogar</option>
                                <option value="vida">Seguro de Vida</option>
                                <option value="salud">Seguro de Salud</option>
                                <option value="responsabilidad">Responsabilidad Civil</option>
                                <option value="otro">Otro</option>
                            </select>
                        </div>
                    </div>

                    <!-- INFORMACIÓN DEL VEHÍCULO (Se muestra solo para Auto/Moto) -->
                    <div class="form-section" id="vehicleSection_page" style="display:none;">
                        <h3 class="form-section-title">Información del Vehículo</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="matricula_page">Matrícula *</label>
                                <input type="text" id="matricula_page" name="matricula" placeholder="1234ABC">
                            </div>
                            <div class="form-group">
                                <label for="fechaCarnet_page">Fecha de Carnet *</label>
                                <input type="date" id="fechaCarnet_page" name="fechaCarnet">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="marcaVehiculo_page">Marca del Vehículo *</label>
                                <input type="text" id="marcaVehiculo_page" name="marcaVehiculo" placeholder="Ej. BMW, Toyota">
                            </div>
                            <div class="form-group">
                                <label for="modeloVehiculo_page">Modelo del Vehículo *</label>
                                <input type="text" id="modeloVehiculo_page" name="modeloVehiculo" placeholder="Ej. Serie 3, Corolla">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="anoVehiculo_page">Año del Vehículo *</label>
                            <input type="number" id="anoVehiculo_page" name="anoVehiculo" placeholder="2024" min="1900" max="2099">
                        </div>
                    </div>

                    <!-- INFORMACIÓN ADICIONAL -->
                    <div class="form-section">
                        <h3 class="form-section-title">Información Adicional</h3>
                        
                        <div class="form-group">
                            <label for="mensaje_page">Detalles adicionales o preguntas</label>
                            <textarea id="mensaje_page" name="mensaje" placeholder="Cuéntanos más sobre tu necesidad..." rows="3"></textarea>
                        </div>
                    </div>

                    <!-- CONSENTIMIENTO -->
                    <div class="form-checkbox">
                        <input type="checkbox" id="terms_page" name="terms" required>
                        <label for="terms_page">Autorizo el tratamiento de mis datos personales conforme a la Política de Privacidad y deseo recibir información sobre seguros. *</label>
                    </div>

                    <button type="submit" class="btn btn-large btn-gradient" style="width:100%;">
                        Enviar Cotización
                    </button>

                    <p class="form-footer">O contacta directamente por <a href="https://wa.me/34611342470" target="_blank">WhatsApp</a></p>
                </form>
                </div>
                <aside class="info-box" aria-labelledby="info-title">
                    <h4 id="info-title">¿Qué pasa después?</h4>
                    <p>Recibe una comparación en menos de 24 horas hábiles. Analizamos más de 10 aseguradoras para ti y ofrecemos acompañamiento personalizado durante todo el proceso.</p>
                    <ul>
                        <li>Recibe una comparación en menos de 24 horas</li>
                        <li>Analizamos más de 10 aseguradoras</li>
                        <li>Acompañamiento personalizado</li>
                        <li>Tratamos tus datos con confidencialidad</li>
                    </ul>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer (copiado) -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Contacto</h4>
                    <p>&#9742; 628 449 014 | 620 916 063</p>
                    <p>&#9993; contacto@gestionagil.com</p>
                </div>
                <div class="footer-col">
                    <h4>Dirección</h4>
                    <p>Calle Florencio García, 6, Local 13. 28027, Madrid</p>
                </div>
                <div class="footer-col">
                    <h4>Horario</h4>
                    <p>Lunes - Viernes: 9:00 - 18:00</p>
                    <p>Sábados: 10:00 - 14:00</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 Gestión Ágil. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>

    <script>
        // Funciones específicas para la página cotizar (adaptadas a los IDs con sufijo _page)
        function updateVehicleFieldsPage() {
            const tipo = document.getElementById('tipoSeguro_page').value;
            const section = document.getElementById('vehicleSection_page');
            const fields = ['matricula_page','fechaCarnet_page','marcaVehiculo_page','modeloVehiculo_page','anoVehiculo_page'];
            if (tipo === 'auto' || tipo === 'moto') {
                section.style.display = 'block';
                fields.forEach(id => { const f = document.getElementById(id); if (f) f.required = true; });
            } else {
                section.style.display = 'none';
                fields.forEach(id => { const f = document.getElementById(id); if (f) f.required = false; });
            }
        }

        // Enviar usando la misma función de whatsapp (mapeando campos)
        function submitQuoteForm(e) {
            e.preventDefault();
            // Mapear campos page -> mensaje
            const get = id => document.getElementById(id) ? document.getElementById(id).value : '';
            // Usar marcas de verificación en lugar de emojis y no incluir la línea de origen
            let whatsappMsg = `✔ *NUEVA SOLICITUD DE COTIZACIÓN*\n\n`;
            whatsappMsg += `✔ *DATOS PERSONALES*\n`;
            whatsappMsg += `- Nombre: ${get('nombre_page')} ${get('apellidos_page')}\n`;
            whatsappMsg += `- DNI/NIE: ${get('dni_page')}\n`;
            whatsappMsg += `- Teléfono: ${get('telefono_page')}\n`;
            whatsappMsg += `- Email: ${get('email_page')}\n`;
            whatsappMsg += `- Fecha Nacimiento: ${get('fechaNacimiento_page')}\n`;
            whatsappMsg += `- Código Postal: ${get('codigoPostal_page')}\n\n`;
            whatsappMsg += `✔ *TIPO DE SEGURO*\n`;
            whatsappMsg += `- ${get('tipoSeguro_page').toUpperCase()}\n\n`;
            if (get('matricula_page')) {
                whatsappMsg += `✔ *INFORMACIÓN DEL VEHÍCULO*\n`;
                whatsappMsg += `- Matrícula: ${get('matricula_page')}\n`;
                whatsappMsg += `- Marca: ${get('marcaVehiculo_page')}\n`;
                whatsappMsg += `- Modelo: ${get('modeloVehiculo_page')}\n`;
                whatsappMsg += `- Año: ${get('anoVehiculo_page')}\n`;
                whatsappMsg += `- Fecha de Carnet: ${get('fechaCarnet_page')}\n\n`;
            }
            if (get('mensaje_page')) whatsappMsg += `✔ *INFORMACIÓN ADICIONAL*\n- ${get('mensaje_page')}\n\n`;
            const whatsappUrl = `https://wa.me/34611342470?text=${encodeURIComponent(whatsappMsg)}`;
            window.open(whatsappUrl,'_blank');
        }
    </script>
</body>
</html>